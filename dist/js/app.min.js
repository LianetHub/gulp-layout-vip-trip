(()=>{"use strict";"undefined"!=typeof Fancybox&&null!==Fancybox&&Fancybox.bind("[data-fancybox]",{dragToClose:!1,closeButton:!1}),$(document).ready((function(){$(document).on("click",(function(e){const t=$(e.target);t.closest(".header__menu-toggler").length&&($(".header").toggleClass("open-menu"),$("body").toggleClass("lock-menu")),t.hasClass("menu__link")&&(t.toggleClass("active"),t.next().toggleClass("active")),t.hasClass("header__languages-current")&&t.next().slideToggle(),t.hasClass("service__calc-tab")&&(t.addClass("active").siblings().removeClass("active"),$(".service__calc-content").eq(t.index()).addClass("active").siblings().removeClass("active"))}));const e=$(".service__calc-form");if(e.length){const n=e.find('input[name="quantity"]'),i=e.find(".service__calc-unit");function o(){const t=e.find('input[name="option"]:checked'),o=parseInt(t.data("min"),10),a=parseInt(t.data("max"),10),s=t.data("text");i.text(s);let c=parseInt(n.val(),10);(isNaN(c)||c<o)&&(c=o),c>a&&(c=a),n.val(c),n.data("min",o).data("max",a)}e.on("change",'input[name="option"]',(function(){o()})),e.find(".service__calc-up").on("click",(function(){const e=parseInt(n.val(),10);e<parseInt(n.data("max"),10)&&n.val(e+1)})),e.find(".service__calc-down").on("click",(function(){const e=parseInt(n.val(),10);e>parseInt(n.data("min"),10)&&n.val(e-1)})),o()}if($(".select").select2({minimumResultsForSearch:1/0}),new Datepicker(".form__control-date"),$('input[type="tel"]').length>0&&$('input[type="tel"]').each((function(e,t){const n=intlTelInput(t,{utilsScript:"https://cdn.jsdelivr.net/npm/intl-tel-input@18.2.1/build/js/utils.js",initialCountry:"ru",preferredCountries:["ru"],autoPlaceholder:!1,separateDialCode:!0});function i(){const e=o("9"),n=o();$(t).inputmask("remove"),$(t).inputmask({mask:e,showMaskOnHover:!1}),$(t).attr("placeholder",n),$(t).on("blur",(function(){$(t).attr("placeholder",n)}))}function o(e="_"){const t=n.getSelectedCountryData();return intlTelInputUtils.getExampleNumber(t.iso2,!1,intlTelInputUtils.numberFormat.INTERNATIONAL).replace(/^\+\d{1,3}/,"").trimStart().replace(/\d/g,e)}$(t).on("countrychange",(function(){i()})),n.promise.then((function(){i()}))})),$(".promo__slider").length&&new Swiper(".promo__slider",{slidesPerView:1,effect:"fade",loop:!0,speed:1e3,autoplay:{delay:7e3,disableOnInteraction:!1},fadeEffect:{crossFade:!0},pagination:{el:".promo__pagination",clickable:!0}}),$(".promo__services-slider").length&&new Swiper(".promo__services-slider .swiper",{slidesPerView:1,navigation:{nextEl:".promo__services-next",prevEl:".promo__services-prev"},breakpoints:{767.98:{slidesPerView:2},1100:{slidesPerView:3}}}),function(){if(/Mobi/.test(navigator.userAgent))return;const e=$(".parallax");e.length&&function(e,t="50%",n=.1,i=!0){let o=$(window).height();function a(){const a=$(window).scrollTop();e.each((function(){const e=$(this),s=e.offset().top,c=function(e){return i?e.outerHeight(!0):e.height()}(e);s+c<a||s>a+o||e.css("background-position",`${t} ${Math.round((s-a)*n)}px`)}))}$(window).on("scroll",a),$(window).on("resize",(function(){o=$(window).height(),a()})),a()}(e,"50%",.2)}(),window.IntersectionObserver){const a=new IntersectionObserver((function(e){e.forEach((e=>{e.isIntersecting&&e.target.classList.add("is-visible")}))}));document.querySelectorAll(".js-animatedScroll").forEach((function(e){a.observe(e)}))}function t(){const e=$(".header").outerHeight();$("body").css("--header-height",`${e}px`)}t(),$(window).on("resize",t)}))})();